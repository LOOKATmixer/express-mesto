{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupWithDelete.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","aria-label","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","title","onClose","onSubmit","action","noValidate","children","EditProfileModal","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","event","target","id","placeholder","minLength","maxLength","autoComplete","required","isLoading","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","PopupWithDelete","isClose","onDelete","Api","options","this","_url","url","headers","_authorization","authorization","_contentType","fetch","method","then","handleOriginalResponse","body","JSON","stringify","cardId","res","ok","json","Promise","reject","status","api","App","isEditProfilePopupOpen","setEditProfile","isEditAvatarPopupOpen","setAvatarPopup","isAddPlacePopupOpen","setAddCard","isPopupImageOpen","setPopupImage","selectedCard","setSelectedCard","setIsLoading","deletedCard","setDeletedCard","isPopupWithDeleteOpen","setPopupWithDelete","setCurrentUser","setCards","closeAllPopups","handlerEscClose","evt","key","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getInitialCards","getUserInfo","userData","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","EditProfilePopup","items","changeUserInfo","error","finally","changeAvatar","addNewCards","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73e2899e.chunk.js","sourcesContent":["function Header() {\n  return (\n    <header className=\"section header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__content-basket ${\n    isOwn ? \"element__content-basket_visible\" : \"element__content-basket_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__content-like ${\n    isLiked ? \"element__content-like_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img\n        src={props.card.link}\n        alt={`Название: ${props.card.name}`}\n        onClick={handleClick}\n        className=\"element__image\"\n      />\n      <div className=\"element__content\">\n        <h2 className=\"element__content-text\">{props.card.name}</h2>\n        <div className=\"element__like-group\">\n          <button\n            aria-label=\"Лайк\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <span className=\"element__like-counter\">\n            {props.card.likes.length}\n          </span>\n        </div>\n        <button\n          aria-label=\"Удалить\"\n          type=\"button\"\n          onClick={handleCardDelete}\n          className={cardDeleteButtonClassName}\n        />\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"section\">\n      <section className=\"section profile\">\n        <div className=\"profile__content\">\n          <div className=\"profile__image-group\">\n            <img\n              src={currentUser.avatar}\n              alt=\"Аватар пользователя\"\n              className=\"profile__image\"\n            />\n            <button\n              onClick={props.onEditAvatar}\n              className=\"profile__image-edit\"\n            />\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__info-title\">{currentUser.name}</h1>\n            <button\n              onClick={props.onEditProfile}\n              type=\"button\"\n              className=\"profile__edit-button\"\n              aria-label=\"Закрыть\"\n            />\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          type=\"button\"\n          className=\"profile__button\"\n        />\n      </section>\n      <section className=\"section elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map((item) => (\n            <Card\n              key={item._id}\n              card={item}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__caption\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container popup__container_forms\">\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          onClick={props.onClose}\n          aria-label=\"Закрыть\"\n        />\n        <form\n          onSubmit={props.onSubmit}\n          className={`form form_${props.name}`}\n          action=\"#\"\n          name={`${props.name}`}\n          noValidate\n        >\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfileModal(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeDescription(event) {\n    setDescription(event.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__label\">\n        <input\n          value={name || \"\"}\n          onChange={handleChangeName}\n          id=\"name-input\"\n          type=\"text\"\n          name=\"nameProfile\"\n          className=\"form__input form__input_type_name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          required\n        />\n        <span className=\"form__error\" id=\"nameProfile-error\"></span>\n      </label>\n      <label className=\"form__label\">\n        <input\n          value={description || \"\"}\n          onChange={handleChangeDescription}\n          id=\"job-input\"\n          type=\"text\"\n          name=\"aboutProfile\"\n          className=\"form__input form__input_type_about\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          autoComplete=\"off\"\n          required\n        />\n        <span className=\"form__error\" id=\"aboutProfile-error\"></span>\n      </label>\n      <button\n        type=\"submit\"\n        name=\"saveButtonCard\"\n        className={`popup__save-button`}\n      >\n        {props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfileModal;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n    >\n      <label className=\"form__label\">\n        <input\n          type=\"url\"\n          name=\"avatar\"\n          ref={avatarRef}\n          className=\"form__input form__input_type_url\"\n          placeholder=\"Ссылка на картинку\"\n          autoComplete=\"off\"\n          required\n        />\n        <span className=\"form__error\" id=\"avatar-error\"></span>\n      </label>\n      <button\n        type=\"submit\"\n        name=\"saveButtonCard\"\n        className={`popup__save-button`}\n      >\n        {props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameCard(event) {\n    setName(event.target.value);\n  }\n\n  function handleLinkCard(event) {\n    setLink(event.target.value);\n  }\n\n  function handleSubmitCard(event) {\n    event.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmitCard}\n      title=\"Новое место\"\n      name=\"card\"\n    >\n      <label className=\"form__label\">\n        <input\n          type=\"text\"\n          name=\"namePlace\"\n          id=\"title\"\n          className=\"form__input form__input_type_place\"\n          placeholder=\"Название\"\n          onChange={handleNameCard}\n          minLength=\"1\"\n          maxLength=\"30\"\n          value={name || \"\"}\n          autoComplete=\"off\"\n          required\n        />\n        <span className=\"form__error\" id=\"namePlace-error\"></span>\n      </label>\n      <label className=\"form__label\">\n        <input\n          type=\"url\"\n          name=\"aboutPlace\"\n          id=\"url\"\n          className=\"form__input form__input_type_url\"\n          placeholder=\"Ссылка на картинку\"\n          onChange={handleLinkCard}\n          value={link || \"\"}\n          autoComplete=\"off\"\n          required\n        />\n        <span className=\"form__error\" id=\"aboutPlace-error\"></span>\n      </label>\n      <button\n        type=\"submit\"\n        name=\"saveButtonCard\"\n        className={`popup__save-button`}\n      >\n        {props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_image ${\n        props.card && props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container popup__container_image\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть\"\n          onClick={props.onClose}\n        />\n        <img className=\"popup__image\" src={props.card ? props.card.link : \"\"} />\n        <h2 className=\"popup__title popup__title_image\">\n          {props.card ? props.card.name : \"\"}\n        </h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction PopupWithDelete(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDelete();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <button\n        className=\"popup__save-button\"\n        type=\"submit\"\n      >\n        {props.isLoading ? \"Удаление...\" : \"Да\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default PopupWithDelete;","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this.headers = options.headers;\n    this._authorization = options.headers.authorization;\n    this._contentType = options.headers[\"Content-type\"];\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then(handleOriginalResponse);\n  }\n\n  addNewCards({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(handleOriginalResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(handleOriginalResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"PUT\": \"DELETE\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n    }).then(handleOriginalResponse);\n  }\n\n  changeAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(handleOriginalResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me/`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then(handleOriginalResponse);\n  }\n\n  changeUserInfo({ name, about }) {\n    return fetch(`${this._url}/users/me/`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(handleOriginalResponse);\n  }\n}\n\nconst handleOriginalResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Err: ${res.status}`);\n  }\n  return res.json();\n};\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"3edb3715-d2b8-46c3-8d1b-ee5c4e7c3cc4\",\n    \"Content-Type\": \"application/json\",\n  },\n});","import React from \"react\";\nimport Header from \"./Header\";\nimport { Main } from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithDelete from \"./PopupWithDelete\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { api } from \"../utils/Api\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfile] = React.useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddCard] = React.useState(false);\n  const [isPopupImageOpen, setPopupImage] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [deletedCard, setDeletedCard] = React.useState(null);\n  const [isPopupWithDeleteOpen, setPopupWithDelete] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditProfileClick() {\n    setEditProfile(true);\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopup(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddCard(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setPopupImage(true);\n  }\n\n  function closeAllPopups() {\n    setEditProfile(false);\n    setAvatarPopup(false);\n    setAddCard(false);\n    setPopupImage(true);\n    setPopupWithDelete(false);\n    setSelectedCard(null);\n    setDeletedCard(null);\n  }\n\n  function handleDeleteClick(card) {\n    setPopupWithDelete(true);\n    setDeletedCard(card);\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(items) {\n    setIsLoading(true);\n    api\n      .changeUserInfo(items)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(item) {\n    setIsLoading(true);\n    api\n      .changeAvatar(item)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .addNewCards(newCard)\n      .then((newCard) => setCards([newCard, ...cards]))\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handlerEscClose(evt) {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function closeByOverlay(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", handlerEscClose);\n    document.addEventListener(\"click\", closeByOverlay);\n    return () => {\n      document.removeEventListener(\"keydown\", handlerEscClose);\n      document.removeEventListener(\"click\", closeByOverlay);\n    };\n  });\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cards, userData]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isPopupImageOpen}\n          onClose={closeAllPopups}\n        />\n        <PopupWithDelete\n          isOpen={isPopupWithDeleteOpen}\n          onClose={closeAllPopups}\n          onDelete={handleCardDelete}\n          card={deletedCard}\n          isLoading={isLoading}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}